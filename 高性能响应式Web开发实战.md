# 《高性能响应式Web开发实战》
## 第1章 概述及任务介绍
* 页面应该参照什么参数（屏幕尺寸、分辨率、设备用户代理）进行响应？
* 针对上面的参数应该采用什么样的策略（移动优先、桌面优先、临界点是多少）进行响应？
* 用什么样的技术能够实现响应？对于不支持该技术的浏览器如何处理？
* 为什么同一张图片在不同设备上看到的大小不同？
* 为什么有的图片素材在小屏的高清设备上会模糊？
* 有没有可能为不同的设备提供不同的图片素材？
* 如果上面问题的答案是肯定的话，那么我们用什么参数（屏幕尺寸？分辨率？）区分不同的设备？
* 对于不支持上面问题解决方案的浏览器应该如何处理？

* 应该用什么样的参数衡量性能？
* 应该用什么样的工具测量性能？
* 如何找到性能的瓶颈在哪？如何修正这些瓶颈？
* 如果短时间内无法提升性能，可不可以通过非技术手段提高用户体验？
* 如果某些功能只是在某些场景中和设备而言是负担的话，可不可以选择性地加载功能？

## 第2章 响应式中要面对的问题
PPI（Pixel Per Inch，**像素密度**，（物理））：<br>
高像素密度同样也带来了副作用：单位面积内容纳的设备像素越多，也就意味着单个设备像素面积越小<br>
在高清设备中，为了解决设备像素过小的问题，<br>
系统分辨率下每个像素会等于多个设备像素，而这个比值称为**设备像素比**（Device Pixel Ratio，DPR）

**与设备无关像素**（device independent pixel）:<br>
系统会根据给出的PT 值，再根据系统分辨率像素与设备像素的比值，换算出目标应该占用的大小。<br>
CSS 像素也是与设备无关像

1. 问题：<br>
与设备无关像素解决了在不同像素密度的屏幕上图片的大小不一致的问题，但是带来了高清屏幕普片变模糊的问题，<br>
（1）如何区分出高清设备和标清设备呢？如何为不同的设备提供不同的样式呢？<br>
（2）如果用户在网络信息较差的手机上访问网站我们仍然提供高清图片，这是否有失偏颇？<br>
能否做到为不同的设备，甚至为不同的网络环境，提供不同的图片素材？

**布局视口**（layout viewport），或者简称为**视口**（viewport）:可视区域大小。<br>
移动设备的视口定义与桌面并不相同，在移动设备上的视口是渲染页面时用的宽度



## 第3章 布局

做了两个简单的头部导航栏(一个桌面的、一个移动的)

## 第4章 布局——响应式篇
* 介绍了一下媒体查询相关的写法、策略。
* 伸缩布局（flex）
* 相对单位（rem）
* 标题布局（一些比较平淡的css）
* 响应式文字（一些比较平淡的css）

## 第5章 响应式图片
这一章介绍了几个方案：
1. 使用srcset语法、<picture>这些元素
2. 图标字体
3. 后端方案，通过判断http请求里面的ua或cookie返回特定图片
4. css里面的background可以用image-set来解决对应问题

## 第6章 脚本与性能：入门篇
1. 媒体查询样式中隐藏元素的背景图片也依然会被下载
2. 性能标准：
    * ready时间
    * load时间
    * 首屏的速度指数（P132）
    * 帧数(可以用setTimeout，以免阻塞渲染线程)
3. 介绍了一些优化技巧：
    1. setTimeout、setInterval和requestAnimationFrame防止渲染线程被阻塞
    2. **强制同步回流**：对某些dom属性（offsetTop、offsetLeft、scrollTop、clientTop等）的查询会导致，浏览器强制性重新计算页面上元素的布局和样式，导致了回流和重绘。<br>
    这个问题可以通过缓存查询值来解决。
    3. 使用缓存

## 第7章 脚本与性能：提高篇
1. 能用css就不用js
2. 模块化和模块加载器
3. 优化思路
    * 经验
    * 实践（试着改，用性能测试验证）
    * 工具
    * 奥卡姆剃刀原理（搞不懂什么意思）
    * 充分利用浏览器特性
    * 学会说善意的谎言（那些让人感觉到快的骚操作）
4. 后端
    * 通过ua等判断用户设备类型，返回不同的网站
    * bigpipe（《深入浅出node.js》里面有介绍）